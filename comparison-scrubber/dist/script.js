function debounce(r,i,a){var n;return function(){var t=this,e=arguments,s=a&&!n;clearTimeout(n),n=setTimeout(function(){n=null,a||r.apply(t,e)},i),s&&r.apply(t,e)}}var bgs_id=0,bgs_instances={};function bg_srcset_init(){var t=document.querySelectorAll("[data-bg-srcset]");if(t){for(var e=t.length,s=0;s<e;s++){var r=t[s].bg_srcset;r&&bgs_instances.hasOwnProperty(r)?bgs_instances[r].get_match():(bgs_instances[++bgs_id]=new bg_srcset(t[s]),t[s].bg_srcset=bgs_id)}e&&window.addEventListener("resize",bg_srcset_reinit)}}document.addEventListener("DOMContentLoaded",function(){bg_srcset_init()});var bg_srcset_reinit=debounce(bg_srcset_init,250);function bg_srcset(t){this.map={},this.srcset="",(this.el=t).hasAttribute("data-bg-srcset")&&this.setup()}function comparator(t){this.container=t,this.sets=t.nextElementSibling,this.dragger=t.querySelector(".handle"),this.resizer=t.querySelector(".resize"),this.setup()}bg_srcset.prototype={setup:function(){this.srcset=this.el.getAttribute("data-bg-srcset"),this.make_map(),this.get_current(),this.get_match()},make_map:function(){var i=this;this.srcset.split(", ").forEach(function(t){var e=t.split(" ");if(e.hasOwnProperty(1)){var s=e[1].length-1;if("w"===e[1].substring(s)){var r=e[1].substring(0,s);i.map[r]=e[0]}}})},get_current:function(){var t=this.el.style.backgroundImage;if(t)for(var e in this.map)if(this.map.hasOwnProperty(e)&&-1<t.indexOf(this.map[e]))return void this.el.setAttribute("data-bg-srcset-current",e)},get_match:function(){var t=this.el;if(t.hasAttribute("data-bg-srcset-nomeasure"))for(t=t.parentNode;!t.hasAttribute("data-bg-srcset-measure")&&t.parentNode;)t=t.parentNode;var e=0,s=0,r=t.clientWidth;for(var i in this.map)!e&&this.map.hasOwnProperty(i)&&(r<i?e=Math.max(e,i):s=Math.max(s,i));e=e||s,t.hasAttribute("data-bg-srcset-current")&&t.getAttribute("data-bg-srcset-current")>e||this.swapimg(e)},swapimg:function(t){if(this.map.hasOwnProperty(t)){var e=this.map[t],s=new Image;s.src=e,this.doswap(s,t)}},doswap:function(t,e){var s=this;setTimeout(function(){t.complete?(s.el.style.backgroundImage="url('"+t.src+"')",s.el.setAttribute("data-bg-srcset-current",e)):s.doswap(t,e)},100)}},document.addEventListener("DOMContentLoaded",function(){for(var t=document.querySelectorAll(".comparator"),e=0;e<t.length;e++)new comparator(t[e])}),comparator.prototype={setup:function(){var e=this;function t(){e.dragger.classList.remove("draggable")}this.dragger.addEventListener("mouseenter",function(t){e.dragstart(t)}),this.dragger.addEventListener("touchstart",function(t){e.dragstart(t)}),this.container.addEventListener("mouseleave",t),this.container.addEventListener("touchend",t),this.container.addEventListener("touchcancel",t),this.sets.addEventListener("click",function(t){e.nav(t)}),this.sets.children[0].classList.add("active")},nav:function(t){if("IMG"===t.target.nodeName){var e=this.sets.querySelector(".active"),s=t.target.parentNode;e&&e.classList.remove("active"),s.classList.add("active"),this.container.firstElementChild.srcset=s.getAttribute("data-before"),this.resizer.setAttribute("data-bg-srcset",s.getAttribute("data-after")),this.resizer.bg_srcset&&bgs_instances&&bgs_instances.hasOwnProperty(this.resizer.bg_srcset)&&bgs_instances[this.resizer.bg_srcset].setup()}},dragstart:function(t){var s=this;this.dragger.classList.add("draggable");var e=t.pageX?t.pageX:t.originalEvent.touches[0].pageX,r=this.dragger.getBoundingClientRect().width,i=this.dragger.getBoundingClientRect().left+window.pageXOffset+r-e,a=this.container.getBoundingClientRect().left+window.pageXOffset,n=this.container.getBoundingClientRect().width;function c(t){var e=t.pageX?t.pageX:t.originalEvent.touches[0].pageX;leftValue=e+i-r,leftValue<minLeft?leftValue=minLeft:leftValue>maxLeft&&(leftValue=maxLeft),widthValue=100*(leftValue+r/2-a)/n,s.do_drag(widthValue)}minLeft=a+26,maxLeft=a+n-r-26,this.container.addEventListener("mousemove",c),this.container.addEventListener("touchmove",c)},do_drag:function(t){this.dragger.style.left=t+"%",this.resizer.style.maxWidth=t+"%"},autoplay:function(){var t=this;this.container.classList.add("triggered"),this.do_drag(100),setTimeout(function(){t.container.classList.remove("triggered")},2500)}};
